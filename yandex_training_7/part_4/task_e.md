# E. Слабое звено[#](https://contest.yandex.ru/contest/74968/problems/E/)

| | |
|---|---|
|Ограничение времени| 2 секунда|
|Ограничение памяти|	512 Мб|
|Ввод|стандартный ввод или input.txt|
|Вывод|стандартный вывод или output.txt|

В Берляндии по воскресеньям проходит известное шоу — игра «Слабое звено».

В игре принимают участие nn игроков, которые выстраиваются в круг. Каждому игроку сопоставлен рейтинг — некоторое целое число *a*<sub>*i*</sub>​.

Игра проходит в несколько раундов, каждый из которых выглядит следующим образом:

    В очередном раунде принимают участие все ещё не выбывшие игроки.

    Все игроки, которые по рейтингу строго слабее обоих своих соседей по кругу, объявляются слабым звеном и выбывают из игры.

    Все оставшиеся участники сдвигаются чуть плотнее, чтобы снова образовывать круг.

    Игра заканчивается, если после очередного раунда осталось ровно два человека или если после очередного раунда не выбыл ни один человек.

    Иначе начинается новый раунд.

Можно показать, что если до очередного раунда в игре оставалось хотя бы три участника, то после одного раунда гарантированно останется не менее двух участников.

Вам нужно выяснить для каждого участника, останется ли он до конца, или номер раунда, в котором он покинет игру.
Формат ввода

В первой строке дано одно целое число *n* (2 ≤ *n* ≤ 200000) — количество участников в игре.

Вторая строка содержит *n* целых чисел *a*<sub>*i*</sub>​ (1 ≤ *a*<sub>*i*</sub>​ ≤ 200000) — рейтинги всех участников игры в том порядке, в котором они стоят, при этом участник с номером *n* является соседом участника с номером 1.
Формат вывода

Выведите nn целых чисел — номер раунда, в котором участник игры с номером *i* покинет игру, или 0, если этот игрок останется до конца игры.

Раунды нумеруются последовательными целыми числами, начиная с 1.


## Пример 1
|Ввод|Вывод|
|---|---|
|         5 | 3 0 0 1 2  |
| 4 5 5 2 3 |

## Пример 2
|Ввод|Вывод|
|---|---|
|         5 | 0 1 2 1 0  |
| 5 1 3 1 5 |            |

## Пример 3
|Ввод|Вывод|
|---|---|
|     3 | 0 0 0  |
| 6 6 6 |        |

## Пример 4
|Ввод|Вывод|
|---|---|
|       4 | 0 0 0 0  |
| 6 5 5 6 |          |

    
## Примечания

В первом примере игра проходит следующим образом (при помощи _ обозначаются выбывшие участники):

[4;5;5;2;3]→[4;5;5;\_;3]→[4;5;5;\_;\_]→[\_;5;5;\_;\_]

После этого игра заканчивается, так как осталось ровно два человека.

Во втором примере игра проходит следующим образом:

[5;1;3;1;5]→[5;\_;3;\_;5]→[5;\_;\_;\_;5]

В третьем и четвертом примере нет ни одного игрока, который был бы одновременно слабее обоих своих соседей, поэтому игра заканчивается, не успев начаться.



    
